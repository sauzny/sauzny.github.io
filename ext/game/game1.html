<!doctype html>
<html>
<head> 
	<meta charset="utf-8"> 
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<title>游戏</title> 
	<!-- 1 -->
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    
    <!-- 新 Bootstrap5 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/5.1.1/css/bootstrap.min.css">
    
    <!--  popper.min.js 用于弹窗、提示、下拉菜单 -->
    <script src="https://cdn.staticfile.org/popper.js/2.9.3/umd/popper.min.js"></script>
    
    <!-- 最新的 Bootstrap5 核心 JavaScript 文件 -->
    <script src="https://cdn.staticfile.org/twitter-bootstrap/5.1.1/js/bootstrap.min.js"></script>
    <style type="text/css">
		body{
			margin: 40px;
		}
		#message, #qiu1, #qiu2, #qiu3, #qiu4, #qiu5, #qiu6, #qiu7{
			text-align: center;
			width: 100%;
		}
        .col {
            border: 2px solid rgb(0, 0, 0);
            margin: 3px;
        }
        .col_red {
            border: 2px solid rgb(255, 0, 0);
        }
	</style>
	<script type="text/javascript" charset="utf-8">

		$(function(){
			// 开始写 jQuery 代码...
			$("#start_button").click(function(){
				$("#start_button").addClass("disabled");
				$("#haha_1").removeClass("show");
        dong();
			});

			$("#again_button").click(function(){
				$("#start_button").removeClass("disabled");
				$("#haha_1").removeClass("show");
			});

		});
    

    function sleep(duration) {
        return new Promise(resolve => {
            setTimeout(resolve, duration);
        })
    }

    async function changeColor(duration) {

        $("#col_0_0").removeClass("col_red");
        $("#col_0_1").removeClass("col_red");
        $("#col_0_2").removeClass("col_red");
        $("#col_1_0").removeClass("col_red");
        $("#col_1_1").removeClass("col_red");
        $("#col_1_2").removeClass("col_red");
        $("#col_2_0").removeClass("col_red");
        $("#col_2_1").removeClass("col_red");
        $("#col_2_2").removeClass("col_red");

        var r_index = Math.floor(Math.random()*3);    // 可均衡获取 0 到 2 的随机整数。
        var c_index = Math.floor(Math.random()*3);    // 可均衡获取 0 到 2 的随机整数。
        $("#col_"+r_index+"_"+c_index).addClass("col_red");
        await sleep(duration);
        console.log("#col_"+r_index+"_"+c_index);
    }

    async function dong(){
        for(var i=1;i<60;i++){
            await changeColor(50);
        }
        await hahaha();
    }

    async function hahaha(){

      $("#col_0_0").removeClass("col_red");
      $("#col_0_1").removeClass("col_red");
      $("#col_0_2").removeClass("col_red");
      $("#col_1_0").removeClass("col_red");
      $("#col_1_1").removeClass("col_red");
      $("#col_1_2").removeClass("col_red");
      $("#col_2_0").removeClass("col_red");
      $("#col_2_1").removeClass("col_red");
      $("#col_2_2").removeClass("col_red");

      $("#haha_1").addClass("show");
    }

	</script>
</head> 
<body>
	<div class="container">
        <div class="row">
            <div class="col" id="col_0_0">
              给宝贝买奶茶x9
            </div>
            <div class="col" id="col_0_1">
              给宝贝买奶茶x9
            </div>
            <div class="col" id="col_0_2">
              给宝贝买奶茶x9
            </div>
        </div>
        <div class="row">
            <div class="col" id="col_1_0">
              给宝贝买奶茶x9
            </div>
            <div class="col" id="col_1_1">
              给宝贝买奶茶x9
            </div>
            <div class="col" id="col_1_2">
              给宝贝买奶茶x9
            </div>
        </div>
        <div class="row">
            <div class="col" id="col_2_0">
              给宝贝买奶茶x9
            </div>
            <div class="col" id="col_2_1">
              给宝贝买奶茶x9
            </div>
            <div class="col" id="col_2_2">
              给宝贝买奶茶x9
            </div>
        </div>
    </div>
	<div class="container">
    <div class="row">
        <div class="col" style="border: 0px;">
            <button id="start_button" type="button" class="btn btn-primary">开始抽奖</button>
        </div>
        
        <div class="col" style="border: 0px;">
            <button id="again_button" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">再来一次</button>
        </div>
        
    </div>
  </div>
  <div id="haha_1" class="alert alert-info alert-dismissible fade">
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    <strong>未中奖，别灰心！</strong>(*^_^*)
  </div>

  <!-- 模态框 -->
  <div class="modal" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">

        <!-- 模态框头部 -->
        <div class="modal-header">
          <h4 class="modal-title">祝你好运</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <!-- 模态框内容 -->
        <div class="modal-body">
          支付1毛钱，再来一次吧！(●ˇ∀ˇ●)
          <img src="game1.jpg" class="img-fluid" alt="Cinque Terre"> 
        </div>

        <!-- 模态框底部 -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">关闭</button>
        </div>

      </div>
    </div>
  </div>
</body>
</html>